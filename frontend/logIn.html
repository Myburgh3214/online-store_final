<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-black.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="css/stylesheet.css">
  <script src="scripts/requestHandler.js"></script>
  <script src="scripts/phpSession.js"></script>
  <style>
    body,
    h1 {
      font-family: "Raleway", sans-serif
    }

    body,
    html {
      height: 100%
    }

    body {
      background-image: url(images/crochet.jpg);
    }
  </style>
</head>

<body>
  <!-- Navbar -->
  <div class="w3-top">
    <div class="w3-bar w3-theme-d2 w3-left-align">

      <a class="w3-bar-item w3-button w3-hide-medium w3-hide-large w3-right w3-hover-white w3-theme-d2"
        href="index.html"><i class="fa fa-bars"></i></a>
      <a href="index.html" class="w3-bar-item w3-button w3-teal"><i class="fa fa-home w3-margin-right"></i>Home</a>
      <div id="loggedInState">
        <a href="signUp.html" class="w3-bar-item w3-button w3-hide-small w3-hover-white">Sign Up</a>
      </div>

    </div>
  </div>
  <div>
    <form action="javascript:login();" method="POST">
      <div class="container" contenteditable="false">
        <h1><b>Log In Form</b></h1>
        <br>
        <div>
          <label for="email">
            <h4><b>Email:</b>
          </label>
          <input type="text" placeholder="Enter Email" id="email" required />
        </div>
        <div class="passwordFld">
          <label for="psw">
            <h4><b>Password:</b>
          </label>
          <input type="password" placeholder="Enter Password" id="psw" required />
        </div>

        <div class="btns">
          <!-- <div>
             <button type="submit" class="forgot">Forgot Password</button>
          </div> -->
          <div>
            <button type="submit" name="login">Confirm</button>
          </div>
        </div>
    </form>
  </div>

  <script>
    function login() {
      postRequest('login', {
          email: document.getElementById('email').value,
          psw: document.getElementById('psw').value
        },
        result => {
          if (result.status === 202) {
            window.location.pathname = window.location.pathname.replace("logIn.html", "index.html");
            return;
          }
          result.text().then(x => alert(x));
        });
    }
  </script>
</body>

</html>